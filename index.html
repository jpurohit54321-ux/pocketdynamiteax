<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CraveCash ‚Äì Dine Smarter</title>
  <style>
    /* Popup Overlay */
    #popup-overlay {
      display: none;
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    /* Popup Box */
    #popup-box {
      background: #1e293b;
      color: #fff;
      border-radius: 12px;
      padding: 30px 40px;
      max-width: 400px;
      width: 90%;
      text-align: center;
      box-shadow: 0 0 15px #fbbf24;
    }
    #popup-box h3 {
      margin-top: 0;
      color: #fbbf24;
    }
    #popup-box button {
      margin-top: 20px;
      background: #fbbf24;
      border: none;
      border-radius: 8px;
      padding: 10px 25px;
      font-size: 1rem;
      cursor: pointer;
      color: #000;
    }
    #payment-options button {
      margin: 10px 10px 0 10px;
      background: #fbbf24;
      border: none;
      border-radius: 8px;
      padding: 12px 30px;
      font-size: 1rem;
      cursor: pointer;
      color: #000;
    }
    #card-form {
      margin-top: 20px;
      text-align: left;
    }
    #card-form label {
      display: block;
      margin: 10px 0 5px;
    }
    #card-form input {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: none;
      font-size: 1rem;
      outline: none;
    }
  </style>
</head>
<body style="margin:0;font-family:'Segoe UI',sans-serif;background:#111827;color:#fff;">

  <style>
  /* General Hover Effects */
  button, .interactive-element {
    transition: all 0.3s ease-in-out;
  }

  button:hover, .interactive-element:hover {
    transform: scale(1.05); /* Slightly enlarges the element */
    box-shadow: 0 0 15px 5px rgba(255, 203, 0, 0.8); /* Glowing effect */
    cursor: pointer;
  }

  /* Glowing effect for hero section button */
  button {
    background-color: #fbbf24;
    border-radius: 8px;
    border: none;
    color: #000;
    font-size: 1rem;
    padding: 15px 30px;
  }

  button:hover {
    box-shadow: 0 0 20px 5px rgba(255, 203, 0, 1);
  }

  /* Glowing effect for restaurant cards */
  .interactive-element {
    cursor: pointer;
    background: #000a;
    border-radius: 20px;
    text-align: center;
    padding: 20px;
    transition: all 0.3s ease-in-out;
  }

  .interactive-element:hover {
    background: #444;
    box-shadow: 0 0 15px 5px rgba(255, 203, 0, 0.8);
    transform: scale(1.05);
  }

  /* Specific hover effect for sections */
  #restaurants .interactive-element:hover {
    background-color: #333;
  }

  /* Glowing effect for input fields */
  input[type="text"] {
    border-radius: 6px;
    padding: 10px 20px;
    width: 250px;
    font-size: 1rem;
    outline: none;
    transition: all 0.3s ease;
  }

  input[type="text"]:focus {
    box-shadow: 0 0 8px 2px rgba(255, 203, 0, 0.8); /* Focus glow */
  }

  /* Glowing effect for the section titles */
  h1, h2, h3 {
    text-shadow: 0 0 10px rgba(255, 203, 0, 0.7);
  }
</style>

<!-- Hero-Bereich -->
<section style="
  padding: 80px 20px;
  text-align: center;
  background: linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.75)), url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
  color: #fbbf24;
">
  <h1 style="font-size:3.5rem; margin-bottom:15px; font-weight: 700;">üçΩÔ∏è Willkommen bei CraveCash</h1>
  <p style="
    font-size: 1.3rem;
    max-width: 650px;
    margin: 0 auto 30px;
    color: #f0f0f0;
    line-height: 1.5;
    font-weight: 500;
  ">
    Dein Zugang zu leckeren Rabatten in deinen Lieblingsrestaurants vor Ort. Schlau essen, weniger bezahlen und mehr genie√üen!
  </p>
  <input 
    id="username" 
    placeholder="Gib deinen Namen ein" 
    style="
      margin-top: 10px;
      padding: 14px 20px;
      border: none;
      border-radius: 8px;
      outline: none;
      width: 280px;
      font-size: 1.1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.25);
      transition: box-shadow 0.3s ease;
    "
    onfocus="this.style.boxShadow='0 6px 20px rgba(251,191,36,0.7)'"
    onblur="this.style.boxShadow='0 4px 12px rgba(0,0,0,0.25)'"
  />
  <br />
  <button onclick="document.getElementById('restaurants').scrollIntoView({ behavior: 'smooth' });" style="
    margin-top: 25px;
    padding: 16px 40px;
    font-size: 1.2rem;
    background: #fbbf24;
    border: none;
    border-radius: 10px;
    color: #000;
    cursor: pointer;
    font-weight: 700;
    box-shadow: 0 6px 15px rgba(251,191,36,0.7);
    transition: background 0.3s ease, transform 0.2s ease;
  "
  onmouseover="this.style.background='#d1a21e'; this.style.transform='scale(1.05)'"
  onmouseout="this.style.background='#fbbf24'; this.style.transform='scale(1)'"
  >
    Sparen starten
  </button>
</section>
<!-- Angebote & Premium-Vorteile -->
<section style="
  background:#552586;
  padding:40px 20px;
  text-align:center;
  color:#a5f3fc;
">
  <h2 style="margin-bottom:30px; font-size:2.4rem; font-weight: 700;">Angebote & Premium-Vorteile</h2>
  <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:25px;">
    
    <!-- Premium-Mitgliedschaft Box -->
    <div id="premium-box" class="interactive-element" style="
      background: rgba(0,0,0,0.7);
      padding: 25px 35px;
      border-radius: 12px;
      width: 280px;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(251,191,36,0.5);
      transition: background 0.3s ease;
    "
    onmouseover="this.style.background='rgba(251,191,36,0.1)'"
    onmouseout="this.style.background='rgba(0,0,0,0.7)'"
    >
      <h3 style="color:#fbbf24; font-weight: 700; margin-bottom: 12px;">ü•á Premium-Mitgliedschaft</h3>
      <p style="font-size:1rem; color:#e0dcdc;">
        Erhalte mehr Vorteile mit CraveCash Premium. 30 Tage kostenlos testen!
      </p>
    </div>

    <!-- App herunterladen Box -->
    <div class="interactive-element" style="
      background: rgba(0,0,0,0.7);
      padding: 25px 35px;
      border-radius: 12px;
      width: 280px;
      cursor: pointer;
      box-shadow: 0 6px 20px #fbbf24;
      transition: background 0.3s ease;
    "
    onmouseover="this.style.background='rgba(165,243,252,0.1)'"
    onmouseout="this.style.background='rgba(0,0,0,0.7)'"
    onclick="window.location.href='http://127.0.0.1:5500/Car%20meet%20app.html'"
    >
      <h3 style="color:#fbbf24; font-weight: 700; margin-bottom: 12px;">üì± App herunterladen</h3>
      <p style="font-size:1rem; color:#e0dcdc;">Nutze die mobile App und sammle Treuepunkte bei jeder Bestellung.</p>
    </div>

  </div>
</section>


<!-- Popup Overlay -->
<div id="premium-popup" style="
  display:none;
  position:fixed;
  top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.85);
  justify-content:center;
  align-items:center;
  z-index:1000;
  opacity: 0;
  transition: opacity 0.3s ease;
">
  <div style="
    background:#111;
    padding: 35px 40px;
    border-radius: 14px;
    max-width: 420px;
    text-align: left;
    position: relative;
    box-shadow: 0 0 20px #fbbf24;
    transform: translateY(-20px);
    transition: transform 0.3s ease;
    color: #eee;
  " id="popup-content">
    <button id="close-popup" style="
      position:absolute;
      top:15px; right:15px;
      background:#fbbf24;
      border:none;
      border-radius:50%;
      width:32px;
      height:32px;
      cursor:pointer;
      font-weight:bold;
      font-size:1.2rem;
      line-height: 28px;
      color: #000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      transition: background 0.3s ease;
    "
    onmouseover="this.style.background='#d1a21e'"
    onmouseout="this.style.background='#fbbf24'"
    >√ó</button>
    <h2 style="color:#fbbf24; font-weight: 700; margin-bottom: 20px;">Premium-Mitglied Vorteile</h2>

    <button id="show-benefits-btn" style="
      background:#fbbf24;
      border:none;
      padding:12px 25px;
      border-radius:10px;
      cursor:pointer;
      font-weight:bold;
      margin-bottom: 25px;
      width: 100%;
      font-size: 1.1rem;
      box-shadow: 0 4px 15px rgba(251,191,36,0.7);
      transition: background 0.3s ease;
    "
    onmouseover="this.style.background='#d1a21e'"
    onmouseout="this.style.background='#fbbf24'"
    >
      Vorteile anzeigen
    </button>

    <ul id="benefits-list" style="display:none; margin-top:0; padding-left:22px; line-height:1.6; font-size: 1rem; color: #ddd;">
      <li>Kostenlose Hauslieferung bei allen Bestellungen</li>
      <li>W√∂chentliche Vorbestellung planen ‚Äì bestelle bequem f√ºr die ganze Woche</li>
      <li>Exklusive Rabatte und Aktionen nur f√ºr Premium-Mitglieder</li>
      <li>30 Tage kostenlos testen</li>
    </ul>

    <p id="premium-message" style="display:none; margin-top: 20px; font-weight: 600; color: #fbbf24; font-size: 1.1rem;">
      Werde jetzt Premium-Mitglied und genie√üe all diese Vorteile!
    </p>
  </div>
</div>

<script>
  const premiumBox = document.getElementById('premium-box');
  const premiumPopup = document.getElementById('premium-popup');
  const popupContent = document.getElementById('popup-content');
  const closePopupBtn = document.getElementById('close-popup');
  const showBenefitsBtn = document.getElementById('show-benefits-btn');
  const benefitsList = document.getElementById('benefits-list');
  const premiumMessage = document.getElementById('premium-message');

  function openPopup() {
    premiumPopup.style.display = 'flex';
    setTimeout(() => {
      premiumPopup.style.opacity = '1';
      popupContent.style.transform = 'translateY(0)';
    }, 10);
    benefitsList.style.display = 'none';
    premiumMessage.style.display = 'none';
    showBenefitsBtn.style.display = 'block';
  }

  function closePopup() {
    premiumPopup.style.opacity = '0';
    popupContent.style.transform = 'translateY(-20px)';
    setTimeout(() => {
      premiumPopup.style.display = 'none';
    }, 300);
  }

  premiumBox.addEventListener('click', openPopup);
  closePopupBtn.addEventListener('click', closePopup);

  premiumPopup.addEventListener('click', (e) => {
    if (e.target === premiumPopup) {
      closePopup();
    }
  });

  showBenefitsBtn.addEventListener('click', () => {
    benefitsList.style.display = 'block';
    premiumMessage.style.display = 'block';
    showBenefitsBtn.style.display = 'none';
  });
</script>

<<!-- Restaurants -->
<section id="restaurants" style="padding: 50px 20px; background-color: #552586; color: #a5f3fc;">
  <h2 style="text-align:center; font-size:2.5rem; font-weight:700; margin-bottom: 30px;">Verf√ºgbare Restaurants</h2>

  <!-- Filter Dropdown -->
  <div style="text-align:center; margin-bottom: 30px;">
    <select onchange="sortRestaurants(this.value)" style="padding: 10px 20px; border-radius: 8px; border: none; font-size: 1rem;">
      <option value="all">Alle Kategorien</option>
      <option value="pizza">üçï Pizza</option>
      <option value="burger">üçî Burger</option>
      <option value="sushi">üç£ Sushi</option>
    </select>
  </div>

  <div style="display:flex; flex-wrap:wrap; justify-content:center; gap:30px;">
    <div class="restaurant-card" data-category="pizza">
      <h3 onclick="selectRestaurant('Tralelo Pizza')">üçï Tralelo Pizza</h3>
      <span class="favorite-btn" onclick="toggleFavorite(this, 'Tralelo Pizza')">üíñ</span>
    </div>
    <div class="restaurant-card" data-category="burger">
      <h3 onclick="selectRestaurant('Sigma Burger')">üçî Sigma Burger</h3>
      <span class="favorite-btn" onclick="toggleFavorite(this, 'Sigma Burger')">üíñ</span>
    </div>
    <div class="restaurant-card" data-category="sushi">
      <h3 onclick="selectRestaurant('Pussini Sushini')">üç£ Pussini Sushini</h3>
      <span class="favorite-btn" onclick="toggleFavorite(this, 'Pussini Sushini')">üíñ</span>
    </div>
  </div>
</section>

<!-- Gutscheinbereich -->
<section id="coupon-section" style="display:none;padding:40px 20px;text-align:center;">
  <h2 style="font-size:1.8rem;margin-bottom:20px;">W√§hle einen Gutschein f√ºr <span id="selected-restaurant" style="color:#fbbf24;"></span></h2>
  <div id="coupon-list" style="display:flex;flex-wrap:wrap;justify-content:center;gap:15px;"></div>
</section>

<!-- Speisekarte -->
<section id="menu-section" style="display:none;padding:40px 20px;">
  <h2 style="text-align:center;font-size:1.8rem;">Speisekarte von <span id="menu-restaurant-name" style="color:#fbbf24;"></span></h2>
  <div id="menu-items" style="display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:30px;"></div>
  <h3 style="text-align:center;margin-top:30px;">Gesamt nach Rabatt: <span id="total-price" style="color:#a7f3d0;">‚Ç¨0,00</span></h3>
  <div style="text-align:center; margin-top: 25px;">
    <button id="proceed-pay" style="padding: 15px 30px; font-size: 1rem; background: #fbbf24; border: none; border-radius: 8px; color: #000; cursor: pointer;" onclick="openPaymentOptions()">Zur Zahlung</button>
  </div>
</section>

<!-- Sponsorentafel -->
<section style="background:#552586;padding:30px 20px;text-align:center;margin-top:40px;border-radius:16px;">
  <h2 style="color:#a5f3fc;font-size:2rem;font-weight:bold;">Gesponsert von</h2>
  <div style="display:flex;flex-wrap:wrap;justify-content:center;gap:25px;margin-top:25px;">
    <div class="sponsor-box">üçî Mcchod</div>
    <div class="sponsor-box">üöó BazdAuto</div>
    <div class="sponsor-box">üí≥ Payblayyt</div>
    <div class="sponsor-box">üßÉ DripJuice</div>
    <div class="sponsor-box">üñ•Ô∏è CybroNet</div>
    <div class="sponsor-box">üéÆ GameStomp</div>
    <div class="sponsor-box">üì¶ Blamazon</div>
  </div>
</section>

<style>
  .restaurant-card {
    width: 260px;
    background: rgba(0,0,0,0.6);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(251,191,36,0.5);
    cursor: pointer;
    transition: background 0.3s ease;
    color: #fcd34d;
    font-weight: 600;
    text-align: center;
    position: relative;
  }

  .restaurant-card h3 {
    margin: 0;
    cursor: pointer;
  }

  .restaurant-card:hover {
    background: rgba(251,191,36,0.15);
  }

  .favorite-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.2rem;
    cursor: pointer;
    opacity: 0.7;
  }

  .favorite-btn.favorited {
    color: #fbbf24;
    opacity: 1;
    text-shadow: 0 0 5px #fbbf24, 0 0 10px #fbbf24;
  }

  .sponsor-box {
    background: #1e293b;
    padding: 15px 30px;
    border-radius: 12px;
    color: #fff;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0);
    cursor: pointer;
    font-size: 1rem;
    user-select: none;
  }

  .sponsor-box:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px #fbbf24, 0 0 30px #fbbf24;
    background: #374151;
    color: #fbbf24;
    text-shadow: 0 0 5px #fbbf24, 0 0 10px #fbbf24, 0 0 15px #fbbf24;
  }

  @media (max-width: 600px) {
    .restaurant-card, .sponsor-box {
      width: 100%;
    }
  }
</style>

<script>
  function sortRestaurants(category) {
    const cards = document.querySelectorAll('.restaurant-card');
    cards.forEach(card => {
      const match = category === 'all' || card.dataset.category === category;
      card.style.display = match ? 'block' : 'none';
    });
  }

  function toggleFavorite(btn, name) {
    btn.classList.toggle('favorited');
    const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
    if (btn.classList.contains('favorited')) {
      favorites.push(name);
    } else {
      const index = favorites.indexOf(name);
      if (index > -1) favorites.splice(index, 1);
    }
    localStorage.setItem('favorites', JSON.stringify([...new Set(favorites)]));
  }
</script>


<style>
  .restaurant-card {
    width: 260px;
    background: rgba(0,0,0,0.6);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(251,191,36,0.5);
    cursor: pointer;
    transition: background 0.3s ease, transform 0.3s ease;
    color: #fcd34d;
    font-weight: 600;
    text-align: center;
    font-size: 1.1rem;
    user-select: none;
  }

  .restaurant-card:hover {
    background: rgba(251,191,36,0.15);
    transform: scale(1.05);
  }

  .heart {
    float: right;
    font-size: 1.2rem;
    opacity: 0.8;
  }

  .sponsor-box {
    background: #1e293b;
    padding: 15px 30px;
    border-radius: 12px;
    color: #fff;
    font-weight: bold;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0);
    cursor: pointer;
    font-size: 1rem;
    user-select: none;
  }

  .sponsor-box:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px #fbbf24, 0 0 30px #fbbf24;
    background: #374151;
    color: #fbbf24;
    text-shadow: 0 0 5px #fbbf24, 0 0 10px #fbbf24, 0 0 15px #fbbf24;
  }

  @media (max-width: 600px) {
    .restaurant-card, .sponsor-box {
      width: 100%;
      text-align: center;
    }
  }
</style>

<script>
  function sortRestaurants(category) {
    const cards = document.querySelectorAll('.restaurant-card');
    cards.forEach(card => {
      if (category === 'all' || card.dataset.category === category) {
        card.style.display = 'block';
      } else {
        card.style.display = 'none';
      }
    });
  }
</script>





  <!-- Popup Overlay -->
  <div id="popup-overlay" style="display:flex;">
    <div id="popup-box">
      <!-- Dynamic content here -->
    </div>
  </div>

 <script>
    const restaurantData = {
      'Tralelo Pizza': {
        coupons: [
          { description: '20% Rabatt auf Alles', discount: '20%' },
          { description: '5 ‚Ç¨ Rabatt pro Artikel', discount: '‚Ç¨5' }
        ],
        menu: [
          { name: 'Gro√üe Margherita Pizza', price: 12.5 },
          { name: 'Pepperoni Pizza', price: 14.0 },
          { name: 'Knoblauchbrot', price: 4.0 },
          { name: '2L Limonade', price: 3.5 }
        ]
      },
      'Sigma Burger': {
        coupons: [
          { description: '15% Rabatt auf Burger und Beilagen', discount: '15%' },
          { description: '3 ‚Ç¨ Rabatt auf alle Artikel', discount: '‚Ç¨3' }
        ],
        menu: [
          { name: 'Klassischer Cheeseburger', price: 9.5 },
          { name: 'Doppelter Bacon Burger', price: 12.0 },
          { name: 'Pommes Frites', price: 3.0 },
          { name: 'Milchshake', price: 4.0 }
        ]
      },
      'Pussini Sushini': {
        coupons: [
          { description: '25% Rabatt auf Sushi-Rollen', discount: '25%' },
          { description: '4 ‚Ç¨ Rabatt auf Bento & Rolle', discount: '‚Ç¨4' }
        ],
        menu: [
          { name: 'Lachsrolle', price: 8.0 },
          { name: 'Thunfisch Sashimi', price: 10.0 },
          { name: 'Bento Box', price: 15.0 },
          { name: 'Miso Suppe', price: 3.5 }
        ]
      }
    };

    let currentRestaurant = '';
    let selectedCoupon = null;

    function selectRestaurant(name) {
      currentRestaurant = name;
      document.getElementById('selected-restaurant').textContent = name;
      const couponList = document.getElementById('coupon-list');
      couponList.innerHTML = '';

      restaurantData[name].coupons.forEach(coupon => {
        const btn = document.createElement('button');
        btn.textContent = coupon.description;
        btn.style.padding = '10px 20px';
        btn.style.fontSize = '1rem';
        btn.style.background = '#fbbf24';
        btn.style.color = '#000';
        btn.style.border = 'none';
        btn.style.borderRadius = '8px';
        btn.style.cursor = 'pointer';
        btn.onclick = () => showMenu(name, coupon);
        couponList.appendChild(btn);
      });

      document.getElementById('coupon-section').style.display = 'block';
      document.getElementById('menu-section').style.display = 'none';
      closePopup();
    }

    function showMenu(name, coupon) {
      selectedCoupon = coupon;
      document.getElementById('menu-restaurant-name').textContent = name;
      const menuItems = document.getElementById('menu-items');
      menuItems.innerHTML = '';
      updateTotal();

      restaurantData[name].menu.forEach((item, index) => {
        const id = `item-${index}`;
        const container = document.createElement('div');
        container.style.background = '#1e293b';
        container.style.borderRadius = '12px';
        container.style.padding = '15px';
        container.style.width = '220px';

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = id;
        checkbox.dataset.price = item.price;
        checkbox.onchange = updateTotal;

        const label = document.createElement('label');
        label.htmlFor = id;
        label.innerHTML = `<strong>${item.name}</strong><br/>Preis: ‚Ç¨${item.price.toFixed(2)}`;

        container.appendChild(checkbox);
        container.appendChild(document.createElement('br'));
        container.appendChild(label);
        menuItems.appendChild(container);
      });

      document.getElementById('menu-section').style.display = 'block';
      closePopup();
    }

    function updateTotal() {
      const checkboxes = document.querySelectorAll('#menu-items input[type=checkbox]');
      let total = 0;

      checkboxes.forEach(checkbox => {
        if (checkbox.checked) {
          let price = parseFloat(checkbox.dataset.price);
          if (selectedCoupon.discount.includes('%')) {
            const percent = parseFloat(selectedCoupon.discount) / 100;
            price = price * (1 - percent);
          } else if (selectedCoupon.discount.includes('‚Ç¨')) {
            const euros = parseFloat(selectedCoupon.discount.replace('‚Ç¨',''));
            price = Math.max(0, price - euros);
          }
          total += price;
        }
      });

      document.getElementById('total-price').textContent = `‚Ç¨${total.toFixed(2)}`;
    }

    // ZAHLUNG & POPUPS

    const popupOverlay = document.getElementById('popup-overlay');
    const popupBox = document.getElementById('popup-box');

    function openPaymentOptions() {
      // Validieren, dass Name und mindestens ein Artikel ausgew√§hlt sind
      const username = document.getElementById('username').value.trim();
      if (!username) {
        alert('Bitte geben Sie Ihren Namen ein, bevor Sie mit der Zahlung fortfahren.');
        return;
      }

      const anyChecked = Array.from(document.querySelectorAll('#menu-items input[type=checkbox]')).some(cb => cb.checked);
      if (!anyChecked) {
        alert('Bitte w√§hlen Sie mindestens einen Artikel aus, um eine Bestellung aufzugeben.');
        return;
      }

      popupBox.innerHTML = `
        <h3>Zahlungsmethode w√§hlen</h3>
        <div id="payment-options">
          <button onclick="payAtRestaurant()">Im Restaurant bezahlen</button>
          <button onclick="showCardForm()">Mit Karte bezahlen</button>
        </div>
      `;
      showPopup();
    }

    function payAtRestaurant() {
      const total = document.getElementById('total-price').textContent;
      popupBox.innerHTML = `
        <h3>Im Restaurant bezahlen</h3>
        <p>Vielen Dank, Ihre Bestellung wird vorbereitet! Bitte zahlen Sie ‚Ç¨${total.replace('‚Ç¨', '')} an der Kasse.</p>
        <button onclick="showThankYou()">Best√§tigen</button>
      `;
    }

    function showCardForm() {
      popupBox.innerHTML = `
        <h3>Kartenzahlung</h3>
        <form id="card-form" onsubmit="submitCardPayment(event)">
          <label for="card-number">Kartennummer</label>
          <input type="text" id="card-number" maxlength="19" placeholder="xxxx xxxx xxxx xxxx" required pattern="\\d{16}" title="Bitte geben Sie eine 16-stellige Kartennummer ohne Leerzeichen ein." />
          
          <label for="card-expiry">Ablaufdatum (MM/JJ)</label>
          <input type="text" id="card-expiry" maxlength="5" placeholder="MM/JJ" required pattern="^(0[1-9]|1[0-2])\\/\\d{2}$" title="Das Ablaufdatum muss im Format MM/JJ sein." />
          
          <label for="card-cvc">CVC</label>
          <input type="text" id="card-cvc" maxlength="4" placeholder="123" required pattern="\\d{3,4}" title="Geben Sie den 3- oder 4-stelligen CVC ein." />
          
          <button type="submit" style="margin-top: 20px;">Jetzt bezahlen</button>
        </form>
      `;
    }

    function submitCardPayment(event) {
      event.preventDefault();

      const cardNumber = document.getElementById('card-number').value.replace(/\s+/g, '');
      const cardExpiry = document.getElementById('card-expiry').value;
      const cardCVC = document.getElementById('card-cvc').value;

      // Einfache Validierung (Patterns sind schon im HTML)
      if (!/^\d{16}$/.test(cardNumber)) {
        alert('Bitte geben Sie eine g√ºltige 16-stellige Kartennummer ein.');
        return;
      }
      if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(cardExpiry)) {
        alert('Das Ablaufdatum muss im Format MM/JJ sein.');
        return;
      }
      if (!/^\d{3,4}$/.test(cardCVC)) {
        alert('Bitte geben Sie einen g√ºltigen CVC ein.');
        return;
      }

      // Bei Erfolg Dankesch√∂n-Popup zeigen
      showThankYou();
    }

    function showThankYou() {
      const total = document.getElementById('total-price').textContent;
      const username = document.getElementById('username').value.trim();

      popupBox.innerHTML = `
        <h3>Danke, ${username}!</h3>
        <p>Ihre Bestellsumme betr√§gt <strong>${total}</strong>.</p>
        <p>Wir sch√§tzen Ihren Einkauf!</p>
        <button onclick="closePopup()">OK</button>
      `;
    }

    function showPopup() {
      popupOverlay.style.display = 'flex';
    }

    function closePopup() {
      popupOverlay.style.display = 'none';
    }

  
    closePopup();
  </script>
  


  

</body>
</html>
